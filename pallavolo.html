<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Management Portal | Allianz Powervolley Milano</title>
    <style>
        :root { --milano-blue: #004a99; --milano-red: #e30613; --coach: #e67e22; --med: #27ae60; --sec: #2980b9; }
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; margin: 0; padding: 20px; }
        header { background: var(--milano-blue); color: white; padding: 20px; text-align: center; border-radius: 10px; border-bottom: 5px solid var(--milano-red); }
        
        /* Sistema Include: Login */
        #login-overlay { position: fixed; top:0; left:0; width:100%; height:100%; background: var(--milano-blue); display: flex; justify-content: center; align-items: center; z-index: 1000; }
        .login-box { background: white; padding: 40px; border-radius: 15px; text-align: center; box-shadow: 0 10px 25px rgba(0,0,0,0.3); }

        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 20px; margin-top: 20px; }
        .card { background: white; border-radius: 12px; padding: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); border-top: 6px solid; }
        .coach { border-color: var(--coach); }
        .medical { border-color: var(--med); }
        .secretary { border-color: var(--sec); }
        
        /* Galleria e Calendario */
        .sub-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; margin-top: 20px; }
        .panel { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .player-list { display: flex; overflow-x: auto; gap: 15px; padding: 10px 0; }
        .player-card { min-width: 110px; text-align: center; background: #f8f9fa; padding: 10px; border-radius: 8px; border: 1px solid #eee; font-size: 0.85rem; }

        table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
        th, td { padding: 8px; text-align: left; border-bottom: 1px solid #eee; }
        .next-match { background: #fff4f4; font-weight: bold; }

        input, select { width: 100%; padding: 10px; margin: 8px 0; border: 1px solid #ddd; border-radius: 6px; }
        button { width: 100%; padding: 12px; border: none; border-radius: 6px; color: white; cursor: pointer; font-weight: bold; }
        .btn-coach { background: var(--coach); }
        .btn-med { background: var(--med); }
        .btn-sec { background: var(--sec); }
        .btn-export { background: #333; margin-top: 20px; }
    </style>
</head>
<body>

<div id="login-overlay">
    <div class="login-box">
        <img src="https://upload.wikimedia.org/wikipedia/it/1/1a/Powervolley_Milano_logo_2019.png" alt="Logo" width="120">
        <h2>Area Staff Allianz Milano</h2>
        <input type="password" id="pass" placeholder="Password">
        <button class="btn-sec" onclick="document.getElementById('login-overlay').style.display='none'; document.getElementById('main-content').style.display='block';">ACCEDI</button>
    </div>
</div>

<div id="main-content" style="display:none;">
    <header>
        <h1>Allianz Powervolley Milano - Official Portal</h1>
    </header>

    <div class="sub-grid">
        <div class="panel">
            <h3>üèÉ Rosa SuperLega 25/26</h3>
            <div class="player-list">
                <div class="player-card"><strong>M. Piano</strong><br>Capitano</div>
                <div class="player-card"><strong>P. Porro</strong><br>Palleggiatore</div>
                <div class="player-card"><strong>Y. Ishikawa</strong><br>Schiacciatore</div>
                <div class="player-card"><strong>M. Kaziyski</strong><br>Schiacciatore</div>
                <div class="player-card"><strong>F. Vitelli</strong><br>Centrale</div>
                <div class="player-card"><strong>T. Reggers</strong><br>Opposto</div>
            </div>
        </div>
        <div class="panel">
            <h3>üìÖ Match Calendar</h3>
            <table>
                <tr class="next-match"><td>01 Feb</td><td>Modena - MILANO</td></tr>
                <tr><td>15 Feb</td><td>Verona - MILANO</td></tr>
                <tr><td>22 Feb</td><td>Monza - MILANO</td></tr>
                <tr><td>25 Feb</td><td>Lube - MILANO</td></tr>
            </table>
        </div>
    </div>

    <div class="grid">
        <div class="card coach">
            <h2>‚öΩ Coaching & Convocazioni</h2>
            <label>Partita</label>
            <select id="c_match">
                <option>01/02 vs Valsa Group Modena</option>
                <option>15/02 vs Rana Verona</option>
            </select>
            <label>Giocatore</label>
            <select id="c_player">
                <option>Matteo Piano</option>
                <option>Paolo Porro</option>
                <option>Yuki Ishikawa</option>
            </select>
            <button class="btn-coach" onclick="logData('Allenatore', document.getElementById('c_player').value, 'Convocato per ' + document.getElementById('c_match').value)">CONVOCA</button>
        </div>

        <div class="card medical">
            <h2>‚öïÔ∏è Staff Medico</h2>
            <input type="text" id="m_name" placeholder="Nome Atleta">
            <input type="text" id="m_diag" placeholder="Diagnosi / Giorni recupero">
            <button class="btn-med" onclick="logData('Medico', document.getElementById('m_name').value, document.getElementById('m_diag').value)">AGGIORNA CARTELLA</button>
        </div>

        <div class="card secretary">
            <h2>üèÜ Admin & Classifica</h2>
            <p><strong>Posizione:</strong> 2¬∞ in SuperLega</p>
            <input type="number" id="s_rimb" placeholder="Importo Rimborso ‚Ç¨">
            <button class="btn-sec" onclick="logData('Segreteria', 'Contabilit√†', 'Approvato rimborso di ‚Ç¨' + document.getElementById('s_rimb').value)">PAGA RIMBORSO</button>
        </div>
    </div>

    <div class="panel" style="margin-top:20px;">
        <h3>üìã Registro Operazioni Giornaliere</h3>
        <div id="log-list" style="max-height: 200px; overflow-y: auto;"></div>
        <button class="btn-export" onclick="downloadReport()">üì• ESPORTA REPORT FINALE (.TXT)</button>
    </div>
</div>

<script>
    let logs = [];
    function logData(role, subject, action) {
        if(!subject || !action) return alert("Inserisci i dati!");
        const entry = `[${role}] ${subject} -> ${action}`;
        logs.push(`${new Date().toLocaleString()}: ${entry}`);
        
        const div = document.createElement('div');
        div.style.padding = "5px; border-bottom: 1px solid #eee; font-size: 0.9rem;";
        div.innerHTML = `<strong>${role}</strong>: ${subject} | <span style="color:#666">${action}</span>`;
        document.getElementById('log-list').prepend(div);
    }

    function downloadReport() {
        const blob = new Blob([logs.join('\n')], {type: 'text/plain'});
        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = 'Report_Allianz_Milano.txt';
        a.click();
    }
</script>

</body>
</html>
